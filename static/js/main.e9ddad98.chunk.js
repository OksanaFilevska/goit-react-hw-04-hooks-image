(this["webpackJsonpgoit-react-hw-04-hooks-image"]=this["webpackJsonpgoit-react-hw-04-hooks-image"]||[]).push([[0],{14:function(e,t,n){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__XS51u",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__1n-Iv"}},24:function(e,t,n){e.exports={ImageGallery:"ImageGallery_ImageGallery__3AQ4O"}},25:function(e,t,n){e.exports={Button:"Button_Button__9Vz9k"}},27:function(e,t,n){e.exports={loader:"Loader_loader__21M7X"}},33:function(e,t,n){},35:function(e,t,n){},6:function(e,t,n){e.exports={SearchBar:"SearchBar_SearchBar__2ggrK",SearchForm:"SearchBar_SearchForm__mjesB",SearchFormButton:"SearchBar_SearchFormButton__iRIUo",SearchFormButtonLabel:"SearchBar_SearchFormButtonLabel__2hoYH",SearchFormInput:"SearchBar_SearchFormInput__aoFg2"}},76:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(5),c=n.n(o),l=(n(33),n(15)),i=n(4),u=n(8),s=(n(34),n(35),n(6)),m=n.n(s),h=n(1);function j(e){var t=e.onSubmit,n=Object(a.useState)(""),r=Object(i.a)(n,2),o=r[0],c=r[1];return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("header",{className:m.a.SearchBar,children:Object(h.jsxs)("form",{className:m.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==o.trim()&&t(o.toLowerCase())},children:[Object(h.jsx)("button",{type:"submit",className:m.a.SearchFormButton,children:Object(h.jsx)("span",{className:m.a.SearchFormButtonLabel,children:"Search"})}),Object(h.jsx)("input",{className:m.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){return c(e.target.value)}})]})})})}var b=n(24),d=n.n(b),f=n(14),g=n.n(f);function O(e){var t=e.image,n=e.onItemClick,a=t.id,r=t.webformatURL,o=t.largeImageURL;return Object(h.jsx)("li",{className:g.a.ImageGalleryItem,children:Object(h.jsx)("img",{onClick:function(){n(o)},src:r,alt:"Gallery item",className:g.a.ImageGalleryItemImage})},a)}function p(e){var t=e.images,n=e.onItemClick;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("ul",{className:d.a.ImageGallery,children:t.map((function(e,t){return Object(h.jsx)(O,{image:e,onItemClick:n},e.id+t)}))})})}var v=n(25),_=n.n(v);function I(e){var t=e.onLoadMore;return Object(h.jsx)("button",{className:_.a.Button,type:"button",onClick:function(){return t()},children:"Load more"})}var x=n(26),y=n.n(x),S=(n(57),n(27)),w=n.n(S);function F(){return Object(h.jsx)(y.a,{className:w.a.loader,type:"ThreeDots",color:"#00BFFF",height:80,width:80,timeout:3e3})}var B,C,M=n(9),k=n.n(M),L=["title","titleId"];function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},N.apply(this,arguments)}function E(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function G(e,t){var n=e.title,r=e.titleId,o=E(e,L);return a.createElement("svg",N({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":r},o),n?a.createElement("title",{id:r},n):null,B||(B=a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),C||(C=a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})))}var P=a.forwardRef(G);n.p;function R(e){var t=e.src,n=e.onCloseModal,r=e.modalRoot;return Object(a.useEffect)((function(){var e=function(e){"Escape"===e.code&&n()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[n]),Object(o.createPortal)(Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:k.a.Overlay,onClick:function(e){e.currentTarget===e.target&&n()},children:Object(h.jsxs)("div",{className:k.a.Modal,children:[Object(h.jsx)("img",{src:t,alt:"",width:"1200px",height:"800px"}),Object(h.jsx)("button",{className:k.a.closeModal,type:"button",onClick:function(){return n()},children:Object(h.jsx)(P,{className:k.a.IconClose})})]})})}),r)}var T=n(28),q=n.n(T);var z=document.querySelector("#modal-root");function D(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(!1),c=Object(i.a)(o,2),s=c[0],m=c[1],b=Object(a.useState)(""),d=Object(i.a)(b,2),f=d[0],g=d[1],O=Object(a.useState)(1),v=Object(i.a)(O,2),_=v[0],x=v[1],y=Object(a.useState)(null),S=Object(i.a)(y,2),w=S[0],B=S[1];Object(a.useEffect)((function(){""!==f&&(m(!0),function(e,t){return q.a.get("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=22945587-13dcce98a35cac559e6949163&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){var t=e.data.hits;if(0!==(null===t||void 0===t?void 0:t.length))return t;Object(u.b)("\u0423\u0442\u043e\u0447\u043d\u0438\u0442\u0435 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0438 \u043f\u043e\u0438\u0441\u043a\u0430!")})).catch((function(e){Object(u.b)(e)}))}(f,_).then((function(e){(null===e||void 0===e?void 0:e.length)&&r((function(t){return[].concat(Object(l.a)(t),Object(l.a)(e))}))})).catch((function(e){return console.log(e)})).finally((function(){return m(!1)})))}),[f,_]),Object(a.useEffect)((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),[n]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j,{onSubmit:function(e){f!==e&&(g(e),r([]),x(1))}}),Object(h.jsx)(p,{images:n,onItemClick:function(e){return B(e)}}),s&&Object(h.jsx)(F,{}),n.length>0&&Object(h.jsx)(I,{onLoadMore:function(){x((function(e){return e+1}))}}),Object(h.jsx)(u.a,{autoClose:3e3}),w&&Object(h.jsx)(R,{src:w,onCloseModal:function(){return B(null)},modalRoot:z})]})}var H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,77)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),o(e),c(e)}))};c.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(D,{})}),document.getElementById("root")),H()},9:function(e,t,n){e.exports={Overlay:"Modal_Overlay__1t-qq",Modal:"Modal_Modal__MVKlN",closeModal:"Modal_closeModal__3IwIX",IconClose:"Modal_IconClose__34l79"}}},[[76,1,2]]]);
//# sourceMappingURL=main.e9ddad98.chunk.js.map